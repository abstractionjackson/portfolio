{{ define "main" }}
<section class="hero page">
  <nav style="position:absolute; top: 0; left: 0; padding: 0 1rem;">  
  <ul>
      <li>
        <details  class="dropdown" id="main-menu">
          <summary id="hamburger" style="color: #ffffff; border: 0; font-size: 1em; height: min-content; margin-bottom: 1rem;">
            <svg width="25" height="25" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
          </summary>
          <ul style="background: transparent; color: #ffffff">
            <li>
              <a href="/about">About</a>
            </li>
            <li>
              <a href="/projects">Projects</a>
            </li>
          </ul>
        </details>
      </li>
    </ul>
  </nav>
  <div class="inner">
    <span>A/B</span>
    <span>str*</span>
    <span>action</span>
    <span class="animated">Jackson</span>
  </div>
</section>
{{ end }}
{{ define "scripts" }}
<script>
  console.log("Animation Script")
  // make a canvas element
  const canvas = document.createElement("canvas");
  // set the position and size of the canvas
  canvas.style.position = "absolute";
  canvas.style.top = "0";
  canvas.style.left = "0";
  canvas.style.width = "100%";
  canvas.style.height = "100%";
  // set the z-index to a value lower than other elements on the page
  canvas.style.zIndex = "-1";
  // add it to the body element
  document.body.appendChild(canvas);
  // get the .animated node
  const animated = document.querySelector(".animated");
  // get the position of the node
  const rect = animated.getBoundingClientRect();
  console.log(rect);

  // Event Listener
  document.addEventListener("mousemove", (e) => {
    // get the mouse position
    const x = e.clientX;
    const y = e.clientY;
    const mouseIsInside = isInside({ x, y }, rect);
    if(mouseIsInside) {
      console.log("Mouse is inside");
    }
    if(!mouseIsInside) {
      // draw a line on the canvas from the node to the mouse
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.beginPath();
      ctx.moveTo(rect.left + rect.width / 2, rect.top + rect.height / 2);
      ctx.lineTo(x, y);
      ctx.strokeStyle = "blue"; // Set the line color to blue
      ctx.stroke();
    }

  });

  // Helpers
  // take a mouse event and a node, and find out if the mouse in inside
  function isInside(mouse, node) {
    return mouse.x > node.left && mouse.x < node.right && mouse.y > node.top && mouse.y < node.bottom;
  }
</script>
{{ end }}